/*
 *  jquery-maskmoney - v3.0.2
 *  jQuery plugin to mask data entry in the input text in the form of money (currency)
 *  https://github.com/plentz/jquery-maskmoney
 *
 *  Made by Diego Plentz
 *  Under MIT License
 */
!function($){"use strict";function a(a,b){var c="";return a.indexOf("-")>-1&&(a=a.replace("-",""),c="-"),a.indexOf(b.prefix)>-1&&(a=a.replace(b.prefix,"")),a.indexOf(b.suffix)>-1&&(a=a.replace(b.suffix,"")),c+b.prefix+a+b.suffix}function b(a,b){return b.reverse?d(a,b):c(a,b)}function c(b,c){var d,f,g,h=b.indexOf("-")>-1&&c.allowNegative?"-":"",i=b.replace(/[^0-9]/g,""),j=i.slice(0,i.length-c.precision);return d=e(j,h,c),c.precision>0&&(f=i.slice(i.length-c.precision),g=new Array(c.precision+1-f.length).join(0),d+=c.decimal+g+f),a(d,c)}function d(b,c){var d,f=b.indexOf("-")>-1&&c.allowNegative?"-":"",g=b.replace(c.prefix,"").replace(c.suffix,""),h=g.split(c.decimal)[0],i="";if(""===h&&(h="0"),d=e(h,f,c),c.precision>0){var j=g.split(c.decimal);j.length>1&&(i=j[1]),d+=c.decimal+i;var k=Number.parseFloat(h+"."+i).toFixed(c.precision),l=k.toString().split(c.decimal)[1];d=d.split(c.decimal)[0]+"."+l}return a(d,c)}function e(a,b,c){return a=a.replace(/^0*/g,""),a=a.replace(/\B(?=(\d{3})+(?!\d))/g,c.thousands),""===a&&(a="0"),b+a}$.browser||($.browser={},$.browser.mozilla=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase()),$.browser.webkit=/webkit/.test(navigator.userAgent.toLowerCase()),$.browser.opera=/opera/.test(navigator.userAgent.toLowerCase()),$.browser.msie=/msie/.test(navigator.userAgent.toLowerCase()));var f={destroy:function(){return $(this).unbind(".maskMoney"),$.browser.msie&&(this.onpaste=null),this},applyMask:function(a){return b(a,$(this).data("settings"))},mask:function(a){return this.each(function(){var b=$(this);return"number"==typeof a&&b.val(a),b.trigger("mask")})},unmasked:function(){return this.map(function(){var a,b=$(this).val()||"0",c=b.indexOf("-")!==-1;return $(b.split(/\D/).reverse()).each(function(b,c){if(c)return a=c,!1}),b=b.replace(/\D/g,""),b=b.replace(new RegExp(a+"$"),"."+a),c&&(b="-"+b),parseFloat(b)})},init:function(c){return c=$.extend({prefix:"",suffix:"",affixesStay:!0,thousands:",",decimal:".",precision:2,allowZero:!1,allowNegative:!1},c),this.each(function(){function d(){var a,b,c,d,e,f=w.get(0),g=0,h=0;return"number"==typeof f.selectionStart&&"number"==typeof f.selectionEnd?(g=f.selectionStart,h=f.selectionEnd):(b=document.selection.createRange())&&b.parentElement()===f&&(d=f.value.length,a=f.value.replace(/\r\n/g,"\n"),c=f.createTextRange(),c.moveToBookmark(b.getBookmark()),e=f.createTextRange(),e.collapse(!1),c.compareEndPoints("StartToEnd",e)>-1?g=h=d:(g=-c.moveStart("character",-d),g+=a.slice(0,g).split("\n").length-1,c.compareEndPoints("EndToEnd",e)>-1?h=d:(h=-c.moveEnd("character",-d),h+=a.slice(0,h).split("\n").length-1))),{start:g,end:h}}function e(){var a=!(w.val().length>=w.attr("maxlength")&&w.attr("maxlength")>=0),b=d(),c=b.start,e=b.end,f=!(b.start===b.end||!w.val().substring(c,e).match(/\d/)),g="0"===w.val().substring(0,1);return a||f||g}function f(a){u.formatOnBlur||w.each(function(b,c){if(c.setSelectionRange)c.focus(),c.setSelectionRange(a,a);else if(c.createTextRange){var d=c.createTextRange();d.collapse(!0),d.moveEnd("character",a),d.moveStart("character",a),d.select()}})}function g(a){var c,d=w.val().length;w.val(b(w.val(),u)),c=w.val().length,u.reverse||(a-=d-c),f(a)}function h(){var a=w.val();u.precision>0&&a.indexOf(u.decimal)<0&&(a+=u.decimal+new Array(u.precision+1).join(0)),w.val(b(a,u))}function i(){var a=w.val();return u.allowNegative?""!==a&&"-"===a.charAt(0)?a.replace("-",""):"-"+a:a}function j(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function k(a){a=a||window.event;var b=a.which||a.charCode||a.keyCode,c=u.decimal.charCodeAt(0);return void 0!==b&&(!(b<48||b>57)||b===c&&u.reverse?!!e()&&((b!==c||!l())&&(!!u.formatOnBlur||(j(a),m(a),!1))):n(b,a))}function l(){return w.val().indexOf(u.decimal)>-1}function m(a){a=a||window.event;var b,c,e,f,h=a.which||a.charCode||a.keyCode,i="";h>=48&&h<=57&&(i=String.fromCharCode(h)),b=d(),c=b.start,e=b.end,f=w.val(),w.val(f.substring(0,c)+i+f.substring(e,f.length)),g(c+1)}function n(a,b){return 45===a?(w.val(i()),!1):43===a?(w.val(w.val().replace("-","")),!1):13===a||9===a||(!(!$.browser.mozilla||37!==a&&39!==a||0!==b.charCode)||(j(b),!0))}function o(a){a=a||window.event;var b,c,e,f,h,i=a.which||a.charCode||a.keyCode;return void 0!==i&&(b=d(),c=b.start,e=b.end,8!==i&&46!==i&&63272!==i||(j(a),f=w.val(),c===e&&(8===i?""===u.suffix?c-=1:(h=f.split("").reverse().join("").search(/\d/),c=f.length-h-1,e=c+1):e+=1),w.val(f.substring(0,c)+f.substring(e,f.length)),g(c),!1))}function p(){v=w.val(),h();var a,b=w.get(0);u.selectAllOnFocus?b.select():b.createTextRange&&(a=b.createTextRange(),a.collapse(!1),a.select())}function q(){setTimeout(function(){h()},0)}function r(){return(parseFloat("0")/Math.pow(10,u.precision)).toFixed(u.precision).replace(new RegExp("\\.","g"),u.decimal)}function s(b){if($.browser.msie&&k(b),u.formatOnBlur&&w.val()!==v&&m(b),""===w.val()||w.val()===a(r(),u))u.allowZero?u.affixesStay?w.val(a(r(),u)):w.val(r()):w.val("");else if(!u.affixesStay){var c=w.val().replace(u.prefix,"").replace(u.suffix,"");w.val(c)}w.val()!==v&&w.change()}function t(){var a,b=w.get(0);u.selectAllOnFocus||(b.setSelectionRange?(a=w.val().length,b.setSelectionRange(a,a)):w.val(w.val()))}var u,v,w=$(this);u=$.extend({},c),u=$.extend(u,w.data()),w.data("settings",u),w.unbind(".maskMoney"),w.bind("keypress.maskMoney",k),w.bind("keydown.maskMoney",o),w.bind("blur.maskMoney",s),w.bind("focus.maskMoney",p),w.bind("click.maskMoney",t),w.bind("cut.maskMoney",q),w.bind("paste.maskMoney",q),w.bind("mask.maskMoney",h)})}};$.fn.maskMoney=function(a){return f[a]?f[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void $.error("Method "+a+" does not exist on jQuery.maskMoney"):f.init.apply(this,arguments)}}(window.jQuery||window.Zepto);