/*
 *  jquery-maskmoney - v3.1.0
 *  jQuery plugin to mask data entry in the input text in the form of money (currency)
 *  https://github.com/plentz/jquery-maskmoney
 *
 *  Made by Diego Plentz
 *  Under MIT License
 */
!function($){"use strict";function a(a,b){var c="";return a.indexOf("-")>-1&&(a=a.replace("-",""),c="-"),a.indexOf(b.prefix)>-1&&(a=a.replace(b.prefix,"")),a.indexOf(b.suffix)>-1&&(a=a.replace(b.suffix,"")),c+b.prefix+a+b.suffix}function b(a,b){return b.allowEmpty&&""===a?"":b.reverse?d(a,b):c(a,b)}function c(b,c){var d,f,g,h=b.indexOf("-")>-1&&c.allowNegative?"-":"",i=b.replace(/[^0-9]/g,""),j=i.slice(0,i.length-c.precision);return d=e(j,h,c),c.precision>0&&(f=i.slice(i.length-c.precision),g=new Array(c.precision+1-f.length).join(0),d+=c.decimal+g+f),a(d,c)}function d(b,c){var d,f=b.indexOf("-")>-1&&c.allowNegative?"-":"",g=b.replace(c.prefix,"").replace(c.suffix,""),h=g.split(c.decimal)[0],i="";if(""===h&&(h="0"),d=e(h,f,c),c.precision>0){var j=g.split(c.decimal);j.length>1&&(i=j[1]),d+=c.decimal+i;var k=Number.parseFloat(h+"."+i).toFixed(c.precision),l=k.toString().split(c.decimal)[1];d=d.split(c.decimal)[0]+"."+l}return a(d,c)}function e(a,b,c){return a=a.replace(/^0*/g,""),a=a.replace(/\B(?=(\d{3})+(?!\d))/g,c.thousands),""===a&&(a="0"),b+a}$.browser||($.browser={},$.browser.mozilla=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase()),$.browser.webkit=/webkit/.test(navigator.userAgent.toLowerCase()),$.browser.opera=/opera/.test(navigator.userAgent.toLowerCase()),$.browser.msie=/msie/.test(navigator.userAgent.toLowerCase()));var f={destroy:function(){return $(this).unbind(".maskMoney"),$.browser.msie&&(this.onpaste=null),this},applyMask:function(a){return b(a,$(this).data("settings"))},mask:function(a){return this.each(function(){var b=$(this);return"number"==typeof a&&b.val(a),b.trigger("mask")})},unmasked:function(){return this.map(function(){var a,b=$(this).val()||"0",c=b.indexOf("-")!==-1;return $(b.split(/\D/).reverse()).each(function(b,c){if(c)return a=c,!1}),b=b.replace(/\D/g,""),b=b.replace(new RegExp(a+"$"),"."+a),c&&(b="-"+b),parseFloat(b)})},init:function(c){return c=$.extend({prefix:"",suffix:"",affixesStay:!0,thousands:",",decimal:".",precision:2,allowZero:!1,allowNegative:!1,doubleClickSelection:!0,allowEmpty:!1},c),this.each(function(){function d(){var a,b,c,d,e,f=x.get(0),g=0,h=0;return"number"==typeof f.selectionStart&&"number"==typeof f.selectionEnd?(g=f.selectionStart,h=f.selectionEnd):(b=document.selection.createRange())&&b.parentElement()===f&&(d=f.value.length,a=f.value.replace(/\r\n/g,"\n"),c=f.createTextRange(),c.moveToBookmark(b.getBookmark()),e=f.createTextRange(),e.collapse(!1),c.compareEndPoints("StartToEnd",e)>-1?g=h=d:(g=-c.moveStart("character",-d),g+=a.slice(0,g).split("\n").length-1,c.compareEndPoints("EndToEnd",e)>-1?h=d:(h=-c.moveEnd("character",-d),h+=a.slice(0,h).split("\n").length-1))),{start:g,end:h}}function e(){var a=!(x.val().length>=x.attr("maxlength")&&x.attr("maxlength")>=0),b=d(),c=b.start,e=b.end,f=!(b.start===b.end||!x.val().substring(c,e).match(/\d/)),g="0"===x.val().substring(0,1);return a||f||g}function f(a){v.formatOnBlur||x.each(function(b,c){if(c.setSelectionRange)c.focus(),c.setSelectionRange(a,a);else if(c.createTextRange){var d=c.createTextRange();d.collapse(!0),d.moveEnd("character",a),d.moveStart("character",a),d.select()}})}function g(a){var c,d=x.val().length;x.val(b(x.val(),v)),c=x.val().length,v.reverse||(a-=d-c),f(a)}function h(){var a=x.val();v.allowEmpty&&""===a||(v.precision>0&&a.indexOf(v.decimal)<0&&(a+=v.decimal+new Array(v.precision+1).join(0)),x.val(b(a,v)))}function i(){var a=x.val();return v.allowNegative?""!==a&&"-"===a.charAt(0)?a.replace("-",""):"-"+a:a}function j(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function k(a){a=a||window.event;var b=a.which||a.charCode||a.keyCode,c=v.decimal.charCodeAt(0);return void 0!==b&&(!(b<48||b>57)||b===c&&v.reverse?!!e()&&((b!==c||!l())&&(!!v.formatOnBlur||(j(a),m(a),!1))):n(b,a))}function l(){return x.val().indexOf(v.decimal)>-1}function m(a){a=a||window.event;var b,c,e,f,h=a.which||a.charCode||a.keyCode,i="";h>=48&&h<=57&&(i=String.fromCharCode(h)),b=d(),c=b.start,e=b.end,f=x.val(),x.val(f.substring(0,c)+i+f.substring(e,f.length)),g(c+1)}function n(a,b){return 45===a?(x.val(i()),!1):43===a?(x.val(x.val().replace("-","")),!1):13===a||9===a||(!(!$.browser.mozilla||37!==a&&39!==a||0!==b.charCode)||(j(b),!0))}function o(a){a=a||window.event;var b,c,e,f,h,i=a.which||a.charCode||a.keyCode;return void 0!==i&&(b=d(),c=b.start,e=b.end,8!==i&&46!==i&&63272!==i||(j(a),f=x.val(),c===e&&(8===i?""===v.suffix?c-=1:(h=f.split("").reverse().join("").search(/\d/),c=f.length-h-1,e=c+1):e+=1),x.val(f.substring(0,c)+f.substring(e,f.length)),g(c),!1))}function p(){w=x.val(),h();var a,b=x.get(0);v.selectAllOnFocus?b.select():b.createTextRange&&(a=b.createTextRange(),a.collapse(!1),a.select())}function q(){setTimeout(function(){h()},0)}function r(){return(parseFloat("0")/Math.pow(10,v.precision)).toFixed(v.precision).replace(new RegExp("\\.","g"),v.decimal)}function s(b){if($.browser.msie&&k(b),v.formatOnBlur&&x.val()!==w&&m(b),""===x.val()&&v.allowEmpty)x.val("");else if(""===x.val()||x.val()===a(r(),v))v.allowZero?v.affixesStay?x.val(a(r(),v)):x.val(r()):x.val("");else if(!v.affixesStay){var c=x.val().replace(v.prefix,"").replace(v.suffix,"");x.val(c)}x.val()!==w&&x.change()}function t(){var a,b=x.get(0);v.selectAllOnFocus||(b.setSelectionRange?(a=x.val().length,b.setSelectionRange(a,a)):x.val(x.val()))}function u(){var a,b,c=x.get(0);c.setSelectionRange?(b=x.val().length,a=v.doubleClickSelection?0:b,c.setSelectionRange(a,b)):x.val(x.val())}var v,w,x=$(this);v=$.extend({},c),v=$.extend(v,x.data()),x.data("settings",v),x.unbind(".maskMoney"),x.bind("keypress.maskMoney",k),x.bind("keydown.maskMoney",o),x.bind("blur.maskMoney",s),x.bind("focus.maskMoney",p),x.bind("click.maskMoney",t),x.bind("dblclick.maskMoney",u),x.bind("cut.maskMoney",q),x.bind("paste.maskMoney",q),x.bind("mask.maskMoney",h)})}};$.fn.maskMoney=function(a){return f[a]?f[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void $.error("Method "+a+" does not exist on jQuery.maskMoney"):f.init.apply(this,arguments)}}(window.jQuery||window.Zepto);